---
sidebar_position: 1
title: Overview
---

# Overview

Using the zkSig SDK, a new agreement is processed in a user's browser (see [Agreement Processing](./agreement-processing.md)).
The in-browser processing results in:

- **Document ID** - the root hash of an SMT containing details about an agreement
- **Expected Participants** - participants invited to insert signatures into the **Audit Trail**
- **Encrypted PDF** - an encrypted version of the agreement PDF
- **Encrypted Details** - an encrypted version of the data used to create the document ID SMT
- **Encrypted Encryption Key** - an encrypted version of the randomly generated bytes used to encrypt the agreement PDF and details
- **Zero Knowledge Proof of Valid Agreement** - a proof that the document ID is valid and a result of the proper processing

This information is sent to the zkSig API where it is verified and stored.

## In-Browser

```mermaid
sequenceDiagram
  actor Creator
  participant Privy
  participant SDK
  participant API

  Creator ->> Privy: Login
  Privy -->> Creator: Wallet
  Creator ->> SDK: Process agreement details
  SDK ->> API: Document ID & ZKP of valid agreement
  API -->> Creator: Transaction hash
```

## zkSig API

```mermaid
sequenceDiagram
  participant API
  participant Database
  participant OnChainVerifier
  participant SmartContract
  participant Web3Storage
  participant Tableland

  API ->> OnChainVerifier: Verify valid agreement ZKP
  OnChainVerifier -->> API: Verification result
  API ->> Database: Store UserDocument and ExpectedParticipants
  API ->> Web3Storage: Store encrypted files
  API ->> SmartContract: Document ID & ZKP of valid agreement
  SmartContract ->> OnChainVerifier: Verify valid agreement ZKP
  OnChainVerifier -->> SmartContract: Verification result
  SmartContract ->> Tableland: Store document ID & ZKP
  SmartContract -->> API: Transaction hash
```
